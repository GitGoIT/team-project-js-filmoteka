{"mappings":"AAEe,SAAAA,EAAmBC,GAiB9B,OAhBeA,EAAKC,KAAIC,GAEb,oJAE4CA,EAAOC,+DAC1BD,EAAOE,yLAGwBF,EAAOG,4DACrCH,EAAOI,0FAKvCC,KAAK,G,CCbd,MAAMC,EAAmBC,SAASC,cAAc,cCHhD,MAAMC,EAAMF,SAASC,cAAc,cACnCE,QAAQC,IAAIF,GAOZA,EAAIG,iBAAiB,SALLC,IACdA,EAAMC,iBACLJ,QAAQC,IAAIE,EAAME,OAAOC,QAAQ,cAAcC,aAAa,WAAW,IDU3DC,MAFC,0FAGwBC,MAAtBC,GAAYA,EAASC,SACCF,MAAtBG,IACF,MAAMxB,EAAOwB,EAAQC,QACrBb,QAAQC,IAAIb,GACZQ,EAAiBkB,mBAAmB,YAAa3B,EAAUC,GAAM,IEf3D,MAAhB2B,EAAQlB,SAASC,cAAc,mBAClBD,SAASC,cAAc,gBAa/BI,iBAAiB,UAT5B,SAAmBc,GACfA,EAAEZ,iBACF,MAAMhB,EAAO2B,EAAME,MFehB,IAA4CC,EEb/ClB,QAAQC,IAAIb,GF+BZQ,EAAiBuB,UAAY,GAdlBX,MAFC,2GEbUpB,UFa+F8B,yBAGjFT,MAAtBC,GAAYA,EAASC,SACCF,MAAtBG,IACF,MAAMxB,EAAOwB,EAAQC,QACrBb,QAAQC,IAAIb,GACZQ,EAAiBkB,mBAAmB,YAAa3B,EAAUC,GAAM,G","sources":["src/js/render-markup.js","src/js/fetch-api.js","src/js/card-data.js","src/js/search-query.js"],"sourcesContent":["const basicImgURL = 'https://image.tmdb.org/t/p/w500';\n\nexport default function objectTpl(data) { // функцію шаблону мапінгу результатів фетчу в дом\n    const markup = data.map(object => { // мапимо дані з API в заготовку html для картки, огортаємо зображення в лінк для підключення simplelightbox\n\n        return `<li class=\"card\">\n                <a href=\"\" class=\"card-link link\">\n                <img class=\"card-img\" src=\"${basicImgURL}${object.poster_path}\" alt=\"\">\n                <h3 class=\"card-name\">${object.original_title}</h3>\n                <div class=\"card-item\">\n                <p class=\"card-genres\">Genres</p>\n                <p class=\"card-year\"><span class=\"card-line\">|</span>${object.release_date}</p>\n                <p class=\"card-rating\">${object.vote_average}</p>\n                </div>\n                </a>\n                </li>`;\n    })\n        .join(''); // об'єднуємо всі елементи масиву в строку та розділяємо 'пробілом' (прибираємо коми за замовчуванням)\n    // console.log(markup)\n    return markup;\n}  ","import objectTpl from './render-markup';\n\n\n\nconst objectsContainer = document.querySelector('.card-list');  // отримуємо доступ до поля карток\n\n// console.log(objectsContainer)\n\nconst API_KEY = '9d504f0d6629b3ea4ce96304b577daca' // виносимо ключ в змінну\n\n//=================================== ФЕТЧ ПОПУЛЯРНИХ =============================================\n\nexport function fetchTrendingObjects() {  // формуємо єдиний метод який буде відповідати за HTTP запити\n    \n    const url = `https://api.themoviedb.org/3/trending/all/day?api_key=${API_KEY}`\n    \n        return fetch(url)  //забираємо проміс даних по лінку API\n            .then(response => response.json()) //парсимо дані в текстовий формат json\n            .then(objects => {\n                const data = objects.results;\n                console.log(data)\n                objectsContainer.insertAdjacentHTML('beforeend', objectTpl(data));\n            })\n}\n\n\n//=================================== ФЕТЧ ПОШУКУ =============================================\n\nexport function fetchSearchingObjects(searchQuery, page) {  // формуємо єдиний метод який буде відповідати за HTTP запити\n    \n    const url = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${searchQuery}&page=${page}&include_adult=folse`\n    \n        return fetch(url)  //забираємо проміс даних по лінку API\n            .then(response => response.json()) //парсимо дані в текстовий формат json\n            .then(objects => {\n                const data = objects.results;\n                console.log(data)\n                objectsContainer.insertAdjacentHTML('beforeend', objectTpl(data));\n          \n                // return objects; // повертаємо у зовнішній код проміс значення об'єкту даних\n            })\n}\n\n\n\nexport function clearObjectsContainer() {  // функція очистки контейнеру перед мапінгом в дом значень іншого пошуку\n    objectsContainer.innerHTML = '';\n}\n","\nconst fff = document.querySelector('.card-list'); \nconsole.log(fff); \n \nconst handler = event => { \n  event.preventDefault(); \n   console.log(event.target.closest('.card-link').getAttribute('data-id'));  \n}; \n \nfff.addEventListener('click', handler); // ловимо атрибут data-id при кліку на картку\n\n","import { fetchTrendingObjects } from './fetch-api';\nimport { fetchSearchingObjects } from './fetch-api';\nimport { clearObjectsContainer } from './fetch-api';\n\nfetchTrendingObjects(); // виводимо фетч популярних\n\nconst input = document.querySelector('.input-position')\nconst searchForm = document.querySelector('.search-form')\n\n// console.log(searchForm)\n\nfunction onSearch (e) {\n    e.preventDefault();\n    const data = input.value;\n\n    console.log(data)\n    clearObjectsContainer(); // чистимо контейнер перед завантаженням даними наступного пошуку\n    fetchSearchingObjects(data); // виводимо фетч пошуку\n};\n\nsearchForm.addEventListener('submit', onSearch)  // слухач для форми пошуку\n\n\n\n\n\n"],"names":["$3ec3f46fa3e1f397$export$2e2bcd8739ae039","data","map","object","poster_path","original_title","release_date","vote_average","join","$d24192cc76c232cb$var$objectsContainer","document","querySelector","$0f5870766946ca58$var$fff","console","log","addEventListener","event","preventDefault","target","closest","getAttribute","fetch","then","response","json","objects","results","insertAdjacentHTML","$8dd3ab41ad1f38be$var$input","e","value","page","innerHTML"],"version":3,"file":"index.16d84648.js.map"}