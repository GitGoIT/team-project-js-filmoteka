{"mappings":"YAEe,SAAAA,EAAmBC,GAiB9B,OAhBeA,EAAKC,KAAI,SAAAC,GAEpB,MAAO,qHAE4CC,OAPvC,mCAQoBA,OADmBD,EAAOE,YAAY,qDAIPD,OAH/BD,EAAOG,eAAe,4KAIrBF,OAD8BD,EAAOI,aAAa,iDAC9BH,OAApBD,EAAOK,aAAa,4E,IAKpDC,KAAK,G,CCbd,IAAMC,EAAmBC,SAASC,cAAc,cAI1CC,EAAU,mCAoBT,SAASC,EAAsBC,EAAaC,GAE/C,IAAMC,EAAM,qDAAqFb,OAAhCS,EAAQ,0BAA4CT,OAApBW,EAAY,UAAaX,OAALY,EAAK,wBAEtH,OAAOE,MAAMD,GACmBE,MAAtB,SAAAC,G,OAAYA,EAASC,M,IACCF,MAAtB,SAAAG,GACF,IAAMrB,EAAOqB,EAAQC,QACrBC,QAAQC,IAAIxB,GACZS,EAAiBgB,mBAAmB,YAAa1B,EAAUC,G,ICpC3E,IAAM0B,EAAMhB,SAASC,cAAc,cACnCY,QAAQC,IAAIE,GAEZ,IDUUV,ECLVU,EAAIC,iBAAiB,SALL,SAAAC,GACdA,EAAMC,iBACLN,QAAQC,IAAII,EAAME,OAAOC,QAAQ,cAAcC,aAAa,W,IDQrDhB,EAAM,yDAAiEb,OAARS,GAE1DK,MAAMD,GACmBE,MAAtB,SAAAC,G,OAAYA,EAASC,M,IACCF,MAAtB,SAAAG,GACF,IAAMrB,EAAOqB,EAAQC,QACrBC,QAAQC,IAAIxB,GACZS,EAAiBgB,mBAAmB,YAAa1B,EAAUC,G,IEfrD,IAAhBiC,EAAQvB,SAASC,cAAc,mBAClBD,SAASC,cAAc,gBAa/BgB,iBAAiB,UAT5B,SAAmBO,GACfA,EAAEL,iBACF,IAAM7B,EAAOiC,EAAME,MAEnBZ,QAAQC,IAAIxB,GF+BZS,EAAiB2B,UAAY,GE7B7BvB,EAAsBb,E","sources":["src/js/render-markup.js","src/js/fetch-api.js","src/js/card-data.js","src/js/search-query.js"],"sourcesContent":["const basicImgURL = 'https://image.tmdb.org/t/p/w500';\n\nexport default function objectTpl(data) { // функцію шаблону мапінгу результатів фетчу в дом\n    const markup = data.map(object => { // мапимо дані з API в заготовку html для картки, огортаємо зображення в лінк для підключення simplelightbox\n\n        return `<li class=\"card\">\n                <a href=\"\" class=\"card-link link\">\n                <img class=\"card-img\" src=\"${basicImgURL}${object.poster_path}\" alt=\"\">\n                <h3 class=\"card-name\">${object.original_title}</h3>\n                <div class=\"card-item\">\n                <p class=\"card-genres\">Genres</p>\n                <p class=\"card-year\"><span class=\"card-line\">|</span>${object.release_date}</p>\n                <p class=\"card-rating\">${object.vote_average}</p>\n                </div>\n                </a>\n                </li>`;\n    })\n        .join(''); // об'єднуємо всі елементи масиву в строку та розділяємо 'пробілом' (прибираємо коми за замовчуванням)\n    // console.log(markup)\n    return markup;\n}  ","import objectTpl from './render-markup';\n\n\n\nconst objectsContainer = document.querySelector('.card-list');  // отримуємо доступ до поля карток\n\n// console.log(objectsContainer)\n\nconst API_KEY = '9d504f0d6629b3ea4ce96304b577daca' // виносимо ключ в змінну\n\n//=================================== ФЕТЧ ПОПУЛЯРНИХ =============================================\n\nexport function fetchTrendingObjects() {  // формуємо єдиний метод який буде відповідати за HTTP запити\n    \n    const url = `https://api.themoviedb.org/3/trending/all/day?api_key=${API_KEY}`\n    \n        return fetch(url)  //забираємо проміс даних по лінку API\n            .then(response => response.json()) //парсимо дані в текстовий формат json\n            .then(objects => {\n                const data = objects.results;\n                console.log(data)\n                objectsContainer.insertAdjacentHTML('beforeend', objectTpl(data));\n            })\n}\n\n\n//=================================== ФЕТЧ ПОШУКУ =============================================\n\nexport function fetchSearchingObjects(searchQuery, page) {  // формуємо єдиний метод який буде відповідати за HTTP запити\n    \n    const url = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${searchQuery}&page=${page}&include_adult=folse`\n    \n        return fetch(url)  //забираємо проміс даних по лінку API\n            .then(response => response.json()) //парсимо дані в текстовий формат json\n            .then(objects => {\n                const data = objects.results;\n                console.log(data)\n                objectsContainer.insertAdjacentHTML('beforeend', objectTpl(data));\n          \n                // return objects; // повертаємо у зовнішній код проміс значення об'єкту даних\n            })\n}\n\n\n\nexport function clearObjectsContainer() {  // функція очистки контейнеру перед мапінгом в дом значень іншого пошуку\n    objectsContainer.innerHTML = '';\n}\n","\nconst fff = document.querySelector('.card-list'); \nconsole.log(fff); \n \nconst handler = event => { \n  event.preventDefault(); \n   console.log(event.target.closest('.card-link').getAttribute('data-id'));  \n}; \n \nfff.addEventListener('click', handler); // ловимо атрибут data-id при кліку на картку\n\n","import { fetchTrendingObjects } from './fetch-api';\nimport { fetchSearchingObjects } from './fetch-api';\nimport { clearObjectsContainer } from './fetch-api';\n\nfetchTrendingObjects(); // виводимо фетч популярних\n\nconst input = document.querySelector('.input-position')\nconst searchForm = document.querySelector('.search-form')\n\n// console.log(searchForm)\n\nfunction onSearch (e) {\n    e.preventDefault();\n    const data = input.value;\n\n    console.log(data)\n    clearObjectsContainer(); // чистимо контейнер перед завантаженням даними наступного пошуку\n    fetchSearchingObjects(data); // виводимо фетч пошуку\n};\n\nsearchForm.addEventListener('submit', onSearch)  // слухач для форми пошуку\n\n\n\n\n\n"],"names":["$5c67f65620e892f5$export$2e2bcd8739ae039","data","map","object","concat","poster_path","original_title","release_date","vote_average","join","$0d419fa112e607df$var$objectsContainer","document","querySelector","$0d419fa112e607df$var$API_KEY","$0d419fa112e607df$export$27ad96f071de1f20","searchQuery","page","url","fetch","then","response","json","objects","results","console","log","insertAdjacentHTML","$77d7a45ed514889c$var$fff","addEventListener","event","preventDefault","target","closest","getAttribute","$eede39456f2a7a22$var$input","e","value","innerHTML"],"version":3,"file":"index.b342f363.js.map"}