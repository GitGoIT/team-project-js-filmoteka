{"mappings":"YAEe,SAAAA,EAAmBC,GAiB9B,OAhBeA,EAAKC,KAAI,SAAAC,GAEpB,MAAO,iFAE8BC,OADgBD,EAAOE,GAAG,mDACZD,OAPvC,mCAQoBA,OADmBD,EAAOG,YAAY,qDAIPF,OAH/BD,EAAOI,eAAe,4KAIrBH,OAD8BD,EAAOK,aAAa,iDAC9BJ,OAApBD,EAAOM,aAAa,4E,IAKpDC,KAAK,G,CCbd,IAAMC,EAAmBC,SAASC,cAAc,cAI1CC,EAAU,mCAoBT,SAASC,EAAsBC,EAAaC,GAE/C,IAAMC,EAAM,qDAAqFd,OAAhCU,EAAQ,0BAA4CV,OAApBY,EAAY,UAAaZ,OAALa,EAAK,wBAEtH,OAAOE,MAAMD,GACmBE,MAAtB,SAAAC,G,OAAYA,EAASC,M,IACCF,MAAtB,SAAAG,GACF,IAAMtB,EAAOsB,EAAQC,QACrBC,QAAQC,IAAIzB,GACZU,EAAiBgB,mBAAmB,YAAa3B,EAAUC,G,ICpCzDW,SAASC,cAAc,cAc/Be,iBAAiB,SATX,SAAAC,GACdA,EAAMC,iBACNL,QAAQC,IAAIG,EAAME,OAAOC,QAAQ,cAAcC,aAAa,YAC5D,IAiBwBC,EAjBlBC,EAASN,EAAME,OAAOC,QAAQ,cAAcC,aAAa,WAiBvCC,EAhBPC,EAiBjBC,EAAMC,KAAKH,GACXI,aAAaC,QAAQC,EAAaC,KAAKC,UAAUN,IACjDX,QAAQC,IAAIe,KAAKE,MAAML,aAAaM,QAAQJ,I,IAZjB,IDHnBtB,ECGJsB,EAAc,oBAKdJ,EAAQK,KAAKE,MAAML,aAAaM,QAAQJ,IAE9Cf,QAAQC,IAAIU,GDVFlB,EAAM,yDAAiEd,OAARU,GAE1DK,MAAMD,GACmBE,MAAtB,SAAAC,G,OAAYA,EAASC,M,IACCF,MAAtB,SAAAG,GACF,IAAMtB,EAAOsB,EAAQC,QACrBC,QAAQC,IAAIzB,GACZU,EAAiBgB,mBAAmB,YAAa3B,EAAUC,G,IEfrD,IAAhB4C,EAAQjC,SAASC,cAAc,mBAClBD,SAASC,cAAc,gBAa/Be,iBAAiB,UAT5B,SAAmBkB,GACfA,EAAEhB,iBACF,IAAM7B,EAAO4C,EAAME,MAEnBtB,QAAQC,IAAIzB,GF+BZU,EAAiBqC,UAAY,GE7B7BjC,EAAsBd,E","sources":["src/js/render-markup.js","src/js/fetch-api.js","src/js/card-data.js","src/js/search-query.js"],"sourcesContent":["const basicImgURL = 'https://image.tmdb.org/t/p/w500';\n\nexport default function objectTpl(data) { // функцію шаблону мапінгу результатів фетчу в дом\n    const markup = data.map(object => { // мапимо дані з API в заготовку html для картки, огортаємо зображення в лінк для підключення simplelightbox\n\n        return `<li class=\"card\">\n                <a href=\"\" class=\"card-link link\" data-id=\"${object.id}\">\n                <img class=\"card-img\" src=\"${basicImgURL}${object.poster_path}\" alt=\"\">\n                <h3 class=\"card-name\">${object.original_title}</h3>\n                <div class=\"card-item\">\n                <p class=\"card-genres\">Genres</p>\n                <p class=\"card-year\"><span class=\"card-line\">|</span>${object.release_date}</p>\n                <p class=\"card-rating\">${object.vote_average}</p>\n                </div>\n                </a>\n                </li>`;\n    })\n        .join(''); // об'єднуємо всі елементи масиву в строку та розділяємо 'пробілом' (прибираємо коми за замовчуванням)\n    // console.log(markup)\n    return markup;\n}  ","import objectTpl from './render-markup';\n\n\n\nconst objectsContainer = document.querySelector('.card-list');  // отримуємо доступ до поля карток\n\n// console.log(objectsContainer)\n\nconst API_KEY = '9d504f0d6629b3ea4ce96304b577daca' // виносимо ключ в змінну\n\n//=================================== ФЕТЧ ПОПУЛЯРНИХ =============================================\n\nexport function fetchTrendingObjects() {  // формуємо єдиний метод який буде відповідати за HTTP запити\n    \n    const url = `https://api.themoviedb.org/3/trending/all/day?api_key=${API_KEY}`\n    \n        return fetch(url)  //забираємо проміс даних по лінку API\n            .then(response => response.json()) //парсимо дані в текстовий формат json\n            .then(objects => {\n                const data = objects.results;\n                console.log(data)\n                objectsContainer.insertAdjacentHTML('beforeend', objectTpl(data));\n            })\n}\n\n\n//=================================== ФЕТЧ ПОШУКУ =============================================\n\nexport function fetchSearchingObjects(searchQuery, page) {  // формуємо єдиний метод який буде відповідати за HTTP запити\n    \n    const url = `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&language=en-US&query=${searchQuery}&page=${page}&include_adult=folse`\n    \n        return fetch(url)  //забираємо проміс даних по лінку API\n            .then(response => response.json()) //парсимо дані в текстовий формат json\n            .then(objects => {\n                const data = objects.results;\n                console.log(data)\n                objectsContainer.insertAdjacentHTML('beforeend', objectTpl(data));\n          \n                // return objects; // повертаємо у зовнішній код проміс значення об'єкту даних\n            })\n}\n\n\n\nexport function clearObjectsContainer() {  // функція очистки контейнеру перед мапінгом в дом значень іншого пошуку\n    objectsContainer.innerHTML = '';\n}\n","\nconst getCardId = document.querySelector('.card-list'); \n// console.log(getCardId);\n\n\n\nconst handler = event => { \n  event.preventDefault(); \n  console.log(event.target.closest('.card-link').getAttribute('data-id'));\n  const cardId = event.target.closest('.card-link').getAttribute('data-id');\n  setMylibraryCard(cardId);\n  // return cardId; \n  \n}; \n \ngetCardId.addEventListener('click', handler); // ловимо атрибут data-id при кліку на картку\n\nconst STORAGE_KEY = 'mylibrary-card-id'; // замінюємо зрозумілою константою назву ключа в local storage (необов'язково)\n\n\n\n\nconst array = JSON.parse(localStorage.getItem(STORAGE_KEY));\n\nconsole.log(array);\n\nfunction setMylibraryCard(evt) {\n  array.push(evt);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(array)); // метод для запису ключа/значення в local storage\n  console.log(JSON.parse(localStorage.getItem(STORAGE_KEY)));\n\n}\n\n","import { fetchTrendingObjects } from './fetch-api';\nimport { fetchSearchingObjects } from './fetch-api';\nimport { clearObjectsContainer } from './fetch-api';\n\nfetchTrendingObjects(); // виводимо фетч популярних\n\nconst input = document.querySelector('.input-position')\nconst searchForm = document.querySelector('.search-form')\n\n// console.log(searchForm)\n\nfunction onSearch (e) {\n    e.preventDefault();\n    const data = input.value;\n\n    console.log(data)\n    clearObjectsContainer(); // чистимо контейнер перед завантаженням даними наступного пошуку\n    fetchSearchingObjects(data); // виводимо фетч пошуку\n};\n\nsearchForm.addEventListener('submit', onSearch)  // слухач для форми пошуку\n\n\n\n\n\n"],"names":["$5c67f65620e892f5$export$2e2bcd8739ae039","data","map","object","concat","id","poster_path","original_title","release_date","vote_average","join","$0d419fa112e607df$var$objectsContainer","document","querySelector","$0d419fa112e607df$var$API_KEY","$0d419fa112e607df$export$27ad96f071de1f20","searchQuery","page","url","fetch","then","response","json","objects","results","console","log","insertAdjacentHTML","addEventListener","event","preventDefault","target","closest","getAttribute","evt","cardId","$77d7a45ed514889c$var$array","push","localStorage","setItem","$77d7a45ed514889c$var$STORAGE_KEY","JSON","stringify","parse","getItem","$eede39456f2a7a22$var$input","e","value","innerHTML"],"version":3,"file":"index.4bd99f6b.js.map"}